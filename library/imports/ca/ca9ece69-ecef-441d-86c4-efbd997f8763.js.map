{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\cases\\3d/assets\\cases\\3d\\screen-to-world-point.js"],"names":["WHITE","cc","Color","Class","extends","Component","properties","box","Node","distanceLabel","Label","start","canvas","find","on","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","distance","event","moveBox","touch","getLocation","touchPos","camera","Camera","findCamera","pos","getScreenToWorldPoint","v3","x","y","position","parent","convertToNodeSpaceAR","distanceChanged","slider","parseFloat","progress","toFixed","string"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,QAAQC,GAAGC,KAAH,CAASF,KAAvB;;AAEAC,GAAGE,KAAH,CAAS;AACLC,aAASH,GAAGI,SADP;;AAGLC,gBAAY;AACRC,aAAKN,GAAGO,IADA;AAERC,uBAAeR,GAAGS;AAFV,KAHP;;AAQL;;AAEA;;AAEAC,SAZK,mBAYI;AACL,YAAIC,SAASX,GAAGY,IAAH,CAAQ,QAAR,CAAb;AACAD,eAAOE,EAAP,CAAUb,GAAGO,IAAH,CAAQO,SAAR,CAAkBC,WAA5B,EAAyC,KAAKC,YAA9C,EAA4D,IAA5D;AACAL,eAAOE,EAAP,CAAUb,GAAGO,IAAH,CAAQO,SAAR,CAAkBG,UAA5B,EAAwC,KAAKC,WAA7C,EAA0D,IAA1D;;AAEA,aAAKC,QAAL,GAAgB,GAAhB;AACH,KAlBI;AAoBLH,gBApBK,wBAoBSI,KApBT,EAoBgB;AACjB,aAAKC,OAAL,CAAaD,MAAME,KAAN,CAAYC,WAAZ,EAAb;AACH,KAtBI;AAwBLL,eAxBK,uBAwBQE,KAxBR,EAwBe;AAChB,aAAKC,OAAL,CAAaD,MAAME,KAAN,CAAYC,WAAZ,EAAb;AACH,KA1BI;AA4BLF,WA5BK,mBA4BIG,QA5BJ,EA4Bc;AACf,YAAIC,SAASzB,GAAG0B,MAAH,CAAUC,UAAV,CAAqB,KAAKrB,GAA1B,CAAb;AACA,YAAIsB,MAAMH,OAAOI,qBAAP,CAA6B7B,GAAG8B,EAAH,CAAMN,SAASO,CAAf,EAAkBP,SAASQ,CAA3B,EAA8B,KAAKb,QAAnC,CAA7B,CAAV;AACA,aAAKb,GAAL,CAAS2B,QAAT,GAAoB,KAAK3B,GAAL,CAAS4B,MAAT,CAAgBC,oBAAhB,CAAqCP,GAArC,CAApB;AACH,KAhCI;AAkCLQ,mBAlCK,2BAkCYC,MAlCZ,EAkCoB;AACrB,aAAKlB,QAAL,GAAgBmB,WAAWD,OAAOE,QAAP,CAAgBC,OAAhB,CAAwB,CAAxB,CAAX,CAAhB;AACA,aAAKhC,aAAL,CAAmBiC,MAAnB,GAA4B,gBAAgB,KAAKtB,QAAjD;AACH;AArCI,CAAT","file":"screen-to-world-point.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\cases\\3d","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\nconst WHITE = cc.Color.WHITE;\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        box: cc.Node,\n        distanceLabel: cc.Label\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n        var canvas = cc.find('Canvas');\n        canvas.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\n        canvas.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\n        \n        this.distance = 0.5;\n    },\n\n    onTouchStart (event) {\n        this.moveBox(event.touch.getLocation());\n    },\n\n    onTouchMove (event) {\n        this.moveBox(event.touch.getLocation());\n    },\n\n    moveBox (touchPos) {\n        let camera = cc.Camera.findCamera(this.box);\n        let pos = camera.getScreenToWorldPoint(cc.v3(touchPos.x, touchPos.y, this.distance));\n        this.box.position = this.box.parent.convertToNodeSpaceAR(pos);\n    },\n\n    distanceChanged (slider) {\n        this.distance = parseFloat(slider.progress.toFixed(2));\n        this.distanceLabel.string = 'distance : ' + this.distance;\n    }\n});\n"]}