{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\Tips/assets\\scripts\\Tips\\TipsManager.js"],"names":["isAndroid","cc","sys","platform","ANDROID","isNative","isBrowser","isMobile","isIphone","IPHONE","isDesktopBrowser","DESKTOP_BROWSER","isWechat","WECHAT_GAME","isQQPlay","QQ_PLAY","isBaidu","BAIDU_GAME","isVivo","VIVO_GAME","isOPPO","OPPO_GAME","isXiaomi","XIAOMI_GAME","isHuawei","HUAWEI_GAME","isJkw","JKW_GAME","isAlipay","ALIPAY_GAME","module","exports","tispPrefab","SupportConfig","name","console","log","capabilities","CC_RUNTIME","CC_PREVIEW","CC_JSB","game","renderType","RENDER_TYPE_WEBGL","init","tipsPrefab","loader","loadRes","err","prefab","createTips","content","node","instantiate","tipsCtrl","getComponent","setContent","parent","director","getScene","hasSupport","hideTip","support","undefined"],"mappings":"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","file":"TipsManager.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Tips","sourcesContent":["//\n// Restricted the scenes platform permissions\n//\n\n// init platform info\nconst isAndroid = cc.sys.platform === cc.sys.ANDROID;\nconst isNative = cc.sys.isNative;\nconst isBrowser = cc.sys.isBrowser;\nconst isMobile = cc.sys.isMobile;\nconst isIphone = cc.sys.platform === cc.sys.IPHONE;\nconst isDesktopBrowser = cc.sys.platform === cc.sys.DESKTOP_BROWSER;\n\nconst isWechat = cc.sys.platform === cc.sys.WECHAT_GAME;\nconst isQQPlay = cc.sys.platform === cc.sys.QQ_PLAY;\nconst isBaidu = cc.sys.platform === cc.sys.BAIDU_GAME;\nconst isVivo = cc.sys.platform === cc.sys.VIVO_GAME;\nconst isOPPO = cc.sys.platform === cc.sys.OPPO_GAME;\nconst isXiaomi = cc.sys.platform === cc.sys.XIAOMI_GAME;\nconst isHuawei = cc.sys.platform === cc.sys.HUAWEI_GAME;\nconst isJkw = cc.sys.platform === cc.sys.JKW_GAME;\nconst isAlipay = cc.sys.platform === cc.sys.ALIPAY_GAME;\n \nmodule.exports = {\n    tispPrefab: null,\n\n    SupportConfig: function (name) {\n        console.log(name);\n        switch (name) {\n            case 'downloader-web':      return !isNative;\n            case 'EditBoxTabIndex':     return !isNative && !isAlipay;\n            case 'EditBox':\n            case 'EditBoxEvent':        return !isAlipay;\n            case 'OnMultiTouchInput':   return isMobile;\n            case 'webp-test':           return cc.sys.capabilities['webp'];\n            case 'DeviceMotion':        return isMobile && !isQQPlay && !isVivo;\n            case 'Native_Call':         return isMobile && isAndroid && !CC_RUNTIME;\n            case 'TTFFontLabel':        return !isQQPlay;\n            case 'Subpackages':\n                return (!CC_PREVIEW && !CC_JSB && !isBrowser && !isQQPlay && !isJkw);\n            case 'MousePropagation':    return ((isNative && !isMobile && !isWechat && !isQQPlay && !isXiaomi && !isHuawei && !isAlipay) || isDesktopBrowser);\n            case 'downloader-native':\n                return isNative && !CC_RUNTIME;\n            // Not support the VIVO_GAME and OPPO_GAME\n            case 'capture_to_native':\n                return isNative && !isVivo && !isOPPO;\n            case 'iOS_getSafeArea':\n                return (isIphone && isNative);\n            case 'capture_to_wechat':\n                return  isWechat;\n            case 'capture_to_web':\n            case 'ShadowLabel':\n                return isBrowser;\n\n            // Only support the RENDER_TYPE_WEBGL\n            case 'MotionStreak':\n            case 'Mask_IMAGE_STENCIL':\n            case 'Mask_NESTED':\n                return cc.game.renderType === cc.game.RENDER_TYPE_WEBGL;\n\n            // Not support isMobile\n            case 'KeyboardInput':\n            case 'platform':\n                return !isMobile && !isWechat && !isBaidu && !isXiaomi && !isHuawei && !isAlipay;\n\n            // Not support the Simulator, QQ_PLAY, WECHAT_GAME\n            case 'videoPlayer':\n                return (isMobile || isBrowser) && !CC_RUNTIME && !isQQPlay && !isBaidu && !isXiaomi && !isHuawei && !isAlipay;\n\n            // Not support the VIVO_GAME, OPPO_GAME, WECHAT_GAME, QQ_PLAY, CC_RUNTIME\n            case 'webview':\n                return (isMobile || isBrowser) && !CC_RUNTIME && !isQQPlay && !isWechat && !isBaidu && !isXiaomi && !isHuawei && !isAlipay;\n            case 'mesh':\n                return !isVivo && !isOPPO;\n        }\n    },\n\n    init () {\n        if (this.tipsPrefab) return;\n\n        cc.loader.loadRes('tips/Tips', (err, prefab) => {\n            this.tipsPrefab = prefab;\n        });\n    },\n\n    createTips (content) {\n        let node = cc.instantiate(this.tipsPrefab);\n        let tipsCtrl = node.getComponent('TipsCtrl');\n        if (content) {\n            tipsCtrl.setContent(content);\n        }\n        node.parent = cc.director.getScene();\n    },\n\n    hasSupport (name, hideTip) {\n        let support = this.SupportConfig(name);\n        if (!support && support !== undefined) {\n            if (!hideTip) {\n                this.createTips();\n            }\n            return false;\n        }\n        return true;\n    }\n};"]}